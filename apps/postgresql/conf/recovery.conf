# PostgreSQL 从服务器恢复配置文件
# 此文件用于配置流复制

# 备用模式
standby_mode = 'on'

# 主服务器连接信息
# 格式: 'host=主机名 port=端口 user=用户名 password=密码'
primary_conninfo = 'host=postgresql-master port=5432 user=replicator password=replicator_password'

# 触发文件路径 (用于手动故障转移)
trigger_file = '/var/lib/postgresql/data/trigger_file'

# 恢复目标 (可选)
# recovery_target_timeline = 'latest'
# recovery_target_time = '2023-01-01 12:00:00'
# recovery_target_xid = '12345'

# 恢复目标操作
# recovery_target_action = 'pause'

# 恢复命令 (可选，用于自定义恢复过程)
# restore_command = 'cp /backup/archive/%f %p'

# 归档清理命令 (可选)
# archive_cleanup_command = 'pg_archivecleanup /backup/archive %r'

# 恢复结束命令 (可选)
# recovery_end_command = 'echo "Recovery completed"'

# 备用服务器名称 (可选)
# primary_slot_name = 'standby_slot'

# 启用 WAL 接收器
# wal_receiver_timeout = 60s
# wal_receiver_status_interval = 10s

# 热备反馈 (可选，用于减少主服务器上的 WAL 积累)
# hot_standby_feedback = off

# 最大备用延迟
# max_standby_streaming_delay = 30s
# max_standby_archive_delay = 30s
